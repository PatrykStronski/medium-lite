# Medium-lite
Меня зовут Патрик Строньский и это моя имполементация сервиса Medium

# Архитектура
Сервис сделан используя docker-compose. Сделан используя два контейнера, где первый заключает в себе сервис (сделан используя NestJs) а второй базу данных PostgreSQL. 

# Как запустить
Чтобы запустить сервис достаточно исользовать две команды:

Чтобы построить контейнера:
```$ docker-compose build```

Чтобы запустить сервис:
```$ docker-compose up```

# Как тестировать
Во первых, автоматически создаётся первый пользователь. Его email это "admin@admin.admin" а его пароль "admin". Он используется для входа в систему. Сначала надо получить токен для входа в систему а позже можно использовать АПИ GraphQL.

## Получение токена
Чтобы получить токен надо отправить запрос на: `http://localhost:3000/auth/token`
Тело запроса: `{ email: 'admin@admin.admin', password: 'admin' }`

## Получение обновления токена
Чтобы получить обновленный токен надо отправить запрос на: `http://localhost:3000/auth/refresh`
Токен обновления (refresh token) получается вместе со стандартным токеном.
Тело запроса: `{ email: 'admin@admin.admin', refresh: <refresh token> }`

## GraphQL Api
АПИ Graphql находится под адресом `http://localhost:3000/graphql`
возможные операции описанные в файле `./src/schema.gql`